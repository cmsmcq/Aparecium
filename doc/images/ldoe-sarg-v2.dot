digraph ldoe_lr0 {
// LR0 automaton for LDOE grammar and sentence 'amalx'.

rankdir="LR";

 edge [color="black" style="dotted"];
 subgraph G05 { rankdir="LR"; cluster=false;
   G05_q0 [label="0\nG·0·5: ● S·0·5."];
   G05_S05 [label="1\nG·0·5: S·0·5 ● ." peripheries=2];
   /* sarg */ G05_q0 -> G05_S05;
 }
 subgraph S05 { rankdir="LR"; cluster=false;
   S05_q0 [label="2\nS·0·5: ● A·0·5."];
   S05_A05 [label="3\nS·0·5: A·0·5 ●." peripheries=2];
   /* sarg */ S05_q0 -> S05_A05;
 }
 subgraph A05 { rankdir="LR"; cluster=false;
   A05_q0 [label="4\nA·0·5: ● 'a', B·1·5."];
   A05_lita [label="5\nA·0·5: 'a' ●, B·1·5."];
   A05_B15 [label="6\nA·0·5: 'a', B·1·5 ●." peripheries=2];
   /* sarg */ A05_q0 -> A05_lita [label="a" color="invis" fontcolor="invis"];
   /* sarg */ A05_lita -> A05_B15;
   }
 subgraph B15 { rankdir="LR"; cluster=false;
   B15_q0 [label="7\nB·1·5: ● LDOE·1·2, A·2·5."];
   B15_LDOE12 [label="8\nB·1·5: LDOE·1·2 ● , A·2·5."];
   B15_A25 [label="9\nB·1·5: LDOE·1·2, A·2·5 ● ." peripheries=2];
   /* sarg */ B15_q0 -> B15_LDOE12 -> B15_A25;
 }
 subgraph LDOE12 { rankdir="LR"; cluster=false;
   LDOE12_q0 [label="10\nLDOE·1·2: ● M·1·2."];
   LDOE12_M12 [label="11\nLDOE·1·2: M·1·2 ● ." peripheries=2];
   /* sarg */ LDOE12_q0 -> LDOE12_M12;
 }
 subgraph A25 { rankdir="LR"; cluster=false;
   A25_q0 [label="12\nA·2·5: ● 'a', B·3·5."];
   A25_lita [label="13\nA·2·5: 'a' ● , B·3·5."];
   A25_B35 [label="14\nA·2·5: 'a', B·3·5 ● ."];
   /* sarg */ A25_q0 -> A25_lita [label="a" color="invis" fontcolor="invis"];
   /* sarg */ A25_lita -> A25_B35;
 }
 subgraph M12 { rankdir="LR"; cluster=false;
   M12_q0 [label="15\nM·1·2:  ● 'm'.\nM·1·2:  ● LDOE·1·2."];
   M12_litm [label="16\nM·1·2: 'm' ● ." peripheries=2];
   M12_LDOE12 [label="17\nM·1·2: LDOE·1·2 ● ." peripheries=2];
   /* sarg */ M12_q0 -> M12_litm [label="m" color="invis" fontcolor="invis"];
   /* sarg */ M12_q0 -> M12_LDOE12;
 }
 subgraph B35 { rankdir="LR"; cluster=false;
   B35_q0 [label="18\nB·3·5:  ● LDOE·3·4, A·4·5."];
   B35_LDOE34 [label="19\nB·3·5: LDOE·3·4 ● , A·4·5."];
   B35_A45 [label="20\nB·3·5: LDOE·3·4, A·4·5 ● ." peripheries=2];
   /* sarg */ B35_q0 -> B35_LDOE34 -> B35_A45;
 }
 subgraph LDOE34 { rankdir="LR"; cluster=false;
   LDOE34_q0 [label="21\nLDOE·3·4:  ● M·3·4.\nLDOE·3·4: ● 'l'."];
   LDOE34_M34 [label="22\nLDOE·3·4: M·3·4 ● ." peripheries=2];
   LDOE34_litl [label="23\nLDOE·3·4: 'l' ●." peripheries=2];
   /* sarg */ LDOE34_q0 -> LDOE34_M34;
   /* sarg */ LDOE34_q0 -> LDOE34_litl [label="l" color="invis" fontcolor="invis"];
 }
 subgraph A45 { rankdir="LR"; cluster=false;
   A45_q0 [label="24\nA·4·5:  ● 'x'."];
   A45_litx [label="25\nA·4·5: 'x' ● ." peripheries=2];
   /* sarg */ A45_q0 -> A45_litx [label="x" color="invis" fontcolor="invis"];
 }
 subgraph M34 { rankdir="LR"; cluster=false;
   M34_q0 [label="26\nM·3·4:  ● LDOE·3·4."];
   M34_LDOE34 [label="27\nM·3·4: LDOE·3·4 ● ."];
   /* sarg */ M34_q0 -> M34_LDOE34;
 }

 subgraph { rank="same"; G05_q0; S05_q0; A05_q0; }
 subgraph { rank="same";
                         A05_lita;
                         B15_q0; 
                         LDOE12_q0;
                         // M12_q0;
          }
 subgraph { rank="same";
                         LDOE12_M12;
                         M12_q0;
                         M12_litm;
          }
 subgraph { rank="same";
                         B15_LDOE12;
                         A25_q0;
                         A25_lita;
          }
 subgraph { rank="same";
                         // A25_q0;
                         A25_lita;
                         B35_q0;
                         LDOE34_q0;
                         A45_q0;
                         // M34_q0;
                         }
 subgraph { rank="same";
                         A45_litx;
                         B35_A45;
                         A25_B35;
                         A05_B15;
                         // B15_A25;
                         S05_A05;
                         G05_S05;
          }
 subgraph { rank="same";
                         A45_q0;
                         B35_LDOE34;
          }
          
 // The stack-augmented FSA
 edge [color="red" style="solid"];
 
 G05_q0 -> S05_q0 [label="Push 1"];
 S05_A05 -> G05_S05 [label="Pop 1"];
 
 S05_q0 -> A05_q0 [label="Push 3"];
 A05_B15 -> S05_A05 [label="Pop 3"];

 A05_q0 -> A05_lita [label="a"];
 A05_lita -> B15_q0 [label="Push 6"];
 B15_A25 -> A05_B15 [label="Pop 6"];
 
 B15_q0 -> LDOE12_q0 [label="Push 8"];
 LDOE12_M12 -> B15_LDOE12 [label="Pop 8"];
 B15_LDOE12 -> A25_q0 [label="Push 9"];
 A25_B35 -> B15_A25 [label="Pop 9"];
 
 LDOE12_q0 -> M12_q0 [label="Push 11"];
 M12_litm -> LDOE12_M12 [label="Pop 11"];
 M12_LDOE12 -> LDOE12_M12 [label="Pop 11"];

 A25_q0 -> A25_lita [label="a"];
 A25_lita -> B35_q0 [label="Push 14"];
 B35_A45 -> A25_B35 [label="Pop 14"];

 M12_q0 -> M12_litm [label="m"];
 M12_q0 -> LDOE12_q0 [label="Push 17"];
 LDOE12_M12 -> M12_LDOE12 [label="Pop 17"];

 B35_q0 -> LDOE34_q0 [label="Push 19"];
 LDOE34_M34 -> B35_LDOE34 [label="Pop 19"];
 LDOE34_litl -> B35_LDOE34 [label="Pop 19"];
 B35_LDOE34 -> A45_q0 [label="Push 20"];
 A45_litx -> B35_A45 [label="Pop 20"];

 LDOE34_q0 -> M34_q0 [label="Push 22"];
 M34_LDOE34 -> LDOE34_M34 [label="Pop 22"];
 LDOE34_q0 -> LDOE34_litl [label="l"];

 A45_q0 -> A45_litx [label="x"];

 M34_q0 -> LDOE34_q0 [label="Push 27"];
 LDOE34_M34 -> M34_LDOE34 [label="Pop 27"];
 LDOE34_litl -> M34_LDOE34 [label="Pop 27"];
}